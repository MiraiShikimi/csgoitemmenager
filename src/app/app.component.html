
<app-header></app-header>
<div class="container-xl" id="mainContainer">
<div class="card-group">
  <div *ngFor="let csgoItem of csgoItems" class="card">
    <img src="{{csgoItem?.imageURL}}" class="card-img-top" alt="..." width="150">
    <div class="card-body">
      <h5 class="card-title">{{csgoItem?.displayName}}</h5>
      <p class="card-text">{{csgoItem?.lowestPrice}}</p>
      <button type="button" (click)="onOpenModal(csgoItem, 'update')" id="addItemButton" class="btn btn-primary">edit Item</button>
    </div>
  </div>
</div>
<button type="button" (click)="onOpenModal(null, 'add')" id="addItemButton" class="btn btn-primary">add Item</button>
</div>


<!-- add Item modal-->
<div id="addItemModal" class="modal fade">
  <div class="modal-dialog">
      <div class="modal-content">
          <form #addForm="ngForm" (ngSubmit)="onAddItem(addForm)">
              <div class="modal-header">
                  <h4 class="modal-title">Add Item</h4>
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              </div>
              <div class="modal-body">
                  <div class="form-group">
                      <label>HASH NAME</label>
                      <input type="text" ngModel name="hashName" class="form-control" required>
                  </div>
                  <div class="form-group">
                      <label>IMAGE URL</label>
                      <input type="text" ngModel name="imageURL" class="form-control" required>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-warning" id="closeModal" data-dismiss="modal">
                      Cancel
                  </button>
                  <button type="submit" [disabled]="addForm.invalid" class="btn btn-success">
                      <span >Add</span>
                  </button>
              </div>
          </form>
      </div>
  </div>
</div>


<!-- eddit Item modal-->
<div id="updateItemModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form #updateForm="ngForm" >
                <div class="modal-header">
                    <h4 class="modal-title">Add Item</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>IMAGE URL</label>
                        <input type="text" ngModel = "{{updatingCSGOItem?.imageURL}}" name="imageURL" class="form-control" required>
                    </div>
                    <input type="hidden" ngModel = "{{updatingCSGOItem?.id}}" name="id" id="id" class="form-contorl">
                    <input type="hidden" ngModel = "{{updatingCSGOItem?.hashName}}" name="hashName" id="hashName" class="form-contorl">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" id="closeupdateModal" data-dismiss="modal">
                        Cancel
                    </button>
                    <button type="submit" (click)="onUpdateItem(updateForm.value,updateForm)" class="btn btn-success">
                        <span >update</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
  </div>
  <router-outlet></router-outlet>